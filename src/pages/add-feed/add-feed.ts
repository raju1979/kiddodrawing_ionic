import { Component } from '@angular/core';
import {DomSanitizer} from '@angular/platform-browser';
import { IonicPage, NavController, NavParams,AlertController,Platform,ModalController } from 'ionic-angular';

import { DataService } from '../../services/data.service';

import { FormGroup, FormControl, ReactiveFormsModule, Validators } from "@angular/forms";
import { Storage } from '@ionic/storage';

import { Camera, CameraOptions } from '@ionic-native/camera';
import { LoginPage } from '../login/login';

import { CameraModal } from '../camera-modal/camera-modal';

@Component({
  selector: 'page-add-feed',
  templateUrl: 'add-feed.html',
})
export class AddFeed {


  myform: FormGroup;
  createdBy: FormControl;
  imgBaseString: FormControl;
  feedTitle: FormControl;
  feedKeywords: FormControl;
  feedDescription: FormControl;
  userToken:FormControl;

  userData:any;

  imgString = "data:image/jpeg;base64,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"

  imgAvatarString = "data:image/png;base64,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";

  imgFromCameraString:string = '';

  cameraBackgroundImageStyle:any;

  options: CameraOptions = {
    quality: 50,
    destinationType: this._camera.DestinationType.DATA_URL,
    encodingType: this._camera.EncodingType.JPEG,
    mediaType: this._camera.MediaType.PICTURE
  }

  httpRequestGoing:boolean = false;

  constructor(private _platform:Platform,private _camera:Camera,private _alertController:AlertController,private _dataService: DataService,public navCtrl: NavController, public navParams: NavParams, private _storage: Storage,private _modalCtrl:ModalController, private sanitizer:DomSanitizer) {

    this.cameraBackgroundImageStyle = sanitizer.bypassSecurityTrustStyle('url(' + this.imgAvatarString + ')');

  }

  createFormControls() {
    this.createdBy = new FormControl('', Validators.required);
    this.imgBaseString = new FormControl('', Validators.required);
    this.feedTitle = new FormControl('', Validators.required);
    this.feedKeywords = new FormControl('', Validators.required);
    this.feedDescription = new FormControl('', Validators.required);
    this.userToken = new FormControl('', Validators.required);
  }

  createForm() {
    this.myform = new FormGroup({
      createdBy: this.createdBy,
      imgBaseString: this.imgBaseString,
      feedTitle: this.feedTitle,
      feedKeywords: this.feedKeywords,
      feedDescription: this.feedDescription,
      userToken: this.userToken,
    });

    this.myform.get("imgBaseString").setValue(this.imgAvatarString);
  }

  ngOnInit() {
    this.createFormControls();
    this.createForm();
  }

  ionViewDidLoad() {
    this._storage.get("userdata")
      .then((data) => {
        if (typeof data === "undefined" || data == null) {

        } else {
          console.log(data);
          this.userData = JSON.parse(data);
          this.myform.get("createdBy").setValue(this.userData.id);
          this.myform.get("userToken").setValue(this.userData.token);
        }
      })
  }

  submitFeed(){
    if(this.myform.valid){
      // console.log(JSON.stringify(this.myform.value));
      this.httpRequestGoing = true;
      let finalFeedData = this.myform.value;
      this._dataService.addNewFeed(this.myform.value)
        .subscribe(
          (feedReturnData) => {
            this.httpRequestGoing = false;
            console.log(feedReturnData);
            if(feedReturnData.success == true){
              this.showSuccessAlert();
            }else{
              this.showErrorAlert(feedReturnData.errorCode);
            }
          },
          (error) => {
            this.httpRequestGoing = false;
            this.showErrorAlert(error);
          }
        )
    }else{
      console.log("Invalid form")
    }
  };//

  showErrorAlert(errorCode?:any){

    let errorAlert = this._alertController.create({
      title: 'Error',
      subTitle: `There is some error. Please check your network connection and try again ${errorCode}`,
      buttons: ['Ok']
    });
    errorAlert.present();

  }

  showSuccessAlert(){
    let errorAlert = this._alertController.create({
      title: 'Yippee',
      subTitle: `Your new Feed is successfully saved`,
      buttons: [
        {
          text: 'Ok',
          handler: () => {
            setTimeout(() => {
              this.navCtrl.setRoot(LoginPage)
            })            
          }
        }
      ]
    });
    errorAlert.present();
  }

  getPicture(){
    if(this._platform.is("mobile")){
      this._camera.getPicture(this.options).then((imageData) => {
        // imageData is either a base64 encoded string or a file URI
        // If it's base64:
        this.imgAvatarString = 'data:image/jpeg;base64,' + imageData;
        this.myform.get("imgBaseString").setValue(this.imgAvatarString);
        console.log("camera done");
       }, (err) => {
        // Handle error
       });
    }else{
      let cameraModal = this._modalCtrl.create(CameraModal, { userId: 8675309 });
      cameraModal.onDidDismiss(data => {
        console.log(data);
        this.imgAvatarString = data.img_data_uri;
        this.myform.get("imgBaseString").setValue(this.imgAvatarString);
      });
      cameraModal.present();
    }
    
  }

  getLoadingImg(){
    let loadingImg;
    if(this._platform.is("mobile")){
      loadingImg = "assets/img/loading.svg";
    }else{
      loadingImg = "../assets/img/loading.svg";
    }

    return loadingImg;

  };//

  getCameraImg(){
    return this.imgFromCameraString;
  }

  getBackgroundImageForCameraStyle(){
    let imageStyle = {
      'background-image': `url(${this.imgAvatarString})`
    };
    return imageStyle;
  }




}
